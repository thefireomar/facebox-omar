<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>My Site - Login/Register</title>
  <!-- Water.css Dark theme -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/dark.css">
  <!-- Netlify Identity Widget -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <!-- Custom JavaScript (optional) -->
  <script src="assets/js/main.js" defer></script>
</head>
<body>
  <header>
    <h1>Welcome to My Site</h1>
    <button id="loginBtn">Login / Register</button>
  </header>

  <main>
    <p>This is a public page. Once you log in, you can access protected content.</p>
  </main>

  <script>
    // Initialize Netlify Identity
    netlifyIdentity.init();
  
    // Open the modal when clicking the login button
    document.getElementById('loginBtn').addEventListener('click', function () {
      netlifyIdentity.open();
    });
  
    // Redirect user to facebox.html after login
    netlifyIdentity.on('login', function (user) {
      console.log('User logged in:', user);
      window.location.href = '/facebox.html'; // Redirects after login
    });
  
    // Logout event (optional)
    netlifyIdentity.on('logout', function () {
      console.log('User logged out');
    });
  </script>
  
</body>
</html>
